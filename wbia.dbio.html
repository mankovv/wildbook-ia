
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>wbia.dbio package &#8212; Wildbook Image Analysis (IA)  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="wbia.detecttools package" href="wbia.detecttools.html" />
    <link rel="prev" title="wbia.control package" href="wbia.control.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="wbia-dbio-package">
<h1>wbia.dbio package<a class="headerlink" href="#wbia-dbio-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-wbia.dbio.export_hsdb">
<span id="wbia-dbio-export-hsdb-module"></span><h2>wbia.dbio.export_hsdb module<a class="headerlink" href="#module-wbia.dbio.export_hsdb" title="Permalink to this headline">¶</a></h2>
<p>Converts an IBEIS database to a hotspotter db</p>
<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.dump_hots_flat_table">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">dump_hots_flat_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#dump_hots_flat_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.dump_hots_flat_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.dump_hots_tables">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">dump_hots_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#dump_hots_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.dump_hots_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps hotspotter like tables to disk</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.export_wbia_to_hotspotter">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">export_wbia_to_hotspotter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#export_wbia_to_hotspotter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.export_wbia_to_hotspotter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.get_hots_flat_table">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">get_hots_flat_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#get_hots_flat_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.get_hots_flat_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps hotspotter flat tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>flat_table_str</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_hsdb –exec-get_hots_flat_table</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flat_table_str</span> <span class="o">=</span> <span class="n">get_hots_flat_table</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;flat_table_str = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">flat_table_str</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.get_hots_table_strings">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">get_hots_table_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#get_hots_table_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.get_hots_table_strings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_hsdb –test-get_hots_table_strings</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">delete_empty_nids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csvtup</span> <span class="o">=</span> <span class="n">get_hots_table_strings</span><span class="p">(</span><span class="n">ibs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># hack so hashtag is at the end of each line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">csvtup</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;#</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;#&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go"># image table#</span>
<span class="go"># num_rows=13#</span>
<span class="go">#   gid,                                                      gname,  aif#</span>
<span class="go">      1,  ../_ibsdb/images/66ec193a-1619-b3b6-216d-1784b4833b61.jpg,    0#</span>
<span class="go">      2,  ../_ibsdb/images/d8903434-942f-e0f5-d6c2-0dcbe3137bf7.jpg,    0#</span>
<span class="go">      3,  ../_ibsdb/images/b73b72f4-4acb-c445-e72c-05ce02719d3d.jpg,    0#</span>
<span class="go">      4,  ../_ibsdb/images/0cd05978-3d83-b2ee-2ac9-798dd571c3b3.jpg,    0#</span>
<span class="go">      5,  ../_ibsdb/images/0a9bc03d-a75e-8d14-0153-e2949502aba7.jpg,    0#</span>
<span class="go">      6,  ../_ibsdb/images/2deeff06-5546-c752-15dc-2bd0fdb1198a.jpg,    0#</span>
<span class="go">      7,  ../_ibsdb/images/a9b70278-a936-c1dd-8a3b-bc1e9a998bf0.png,    0#</span>
<span class="go">      8,  ../_ibsdb/images/42fdad98-369a-2cbc-67b1-983d6d6a3a60.jpg,    0#</span>
<span class="go">      9,  ../_ibsdb/images/c459d381-fd74-1d99-6215-e42e3f432ea9.jpg,    0#</span>
<span class="go">     10,  ../_ibsdb/images/33fd9813-3a2b-774b-3fcc-4360d1ae151b.jpg,    0#</span>
<span class="go">     11,  ../_ibsdb/images/97e8ea74-873f-2092-b372-f928a7be30fa.jpg,    0#</span>
<span class="go">     12,  ../_ibsdb/images/588bc218-83a5-d400-21aa-d499832632b0.jpg,    0#</span>
<span class="go">     13,  ../_ibsdb/images/163a890c-36f2-981e-3529-c552b6d668a3.jpg,    0#</span>
<span class="go"># name table#</span>
<span class="go"># num_rows=7#</span>
<span class="go">#   nid,   name#</span>
<span class="go">      1,   easy#</span>
<span class="go">      2,   hard#</span>
<span class="go">      3,   jeff#</span>
<span class="go">      4,   lena#</span>
<span class="go">      5,   occl#</span>
<span class="go">      6,  polar#</span>
<span class="go">      7,  zebra#</span>
<span class="go"># chip table#</span>
<span class="go"># num_rows=13#</span>
<span class="go">#   cid,  gid,  nid,      [tlx tly w h],  theta,                                        notes#</span>
<span class="go">      1,    1,   -1,  [0  0  1047  715],   0.00,              aid 1 and 2 are correct matches#</span>
<span class="go">      2,    2,    1,  [0  0  1035  576],   0.00,                                             #</span>
<span class="go">      3,    3,    1,  [0  0  1072  804],   0.00,                                             #</span>
<span class="go">      4,    4,   -4,  [0  0  1072  804],   0.00,                                             #</span>
<span class="go">      5,    5,    2,  [0  0  1072  804],   0.00,                                             #</span>
<span class="go">      6,    6,    2,   [0  0  450  301],   0.00,                                             #</span>
<span class="go">      7,    7,    3,   [0  0  400  400],   0.00,  very simple image to debug feature detector#</span>
<span class="go">      8,    8,    4,   [0  0  220  220],   0.00,                          standard test image#</span>
<span class="go">      9,    9,   -9,   [0  0  450  284],   0.00,              this is actually a plains zebra#</span>
<span class="go">     10,   10,    5,   [0  0  450  341],   0.00,              this is actually a plains zebra#</span>
<span class="go">     11,   11,  -11,   [0  0  741  734],   0.00,                                             #</span>
<span class="go">     12,   12,    6,   [0  0  673  634],   0.00,                                             #</span>
<span class="go">     13,   13,    7,  [0  0  1114  545],   0.00,                                             #</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_hsdb.get_hsdb_image_gpaths">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_hsdb.</span></span><span class="sig-name descname"><span class="pre">get_hsdb_image_gpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_hsdb.html#get_hsdb_image_gpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_hsdb.get_hsdb_image_gpaths" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p></li>
<li><p><strong>gid_list</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>gpath_list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_hsdb –test-get_hsdb_image_gpaths</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gid_list</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">get_valid_gids</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gpath_list</span> <span class="o">=</span> <span class="n">get_hsdb_image_gpaths</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">gid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">repr2</span><span class="p">(</span><span class="n">gpath_list</span><span class="p">,</span> <span class="n">nl</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    &#39;../_ibsdb/images/66ec193a-1619-b3b6-216d-1784b4833b61.jpg&#39;,</span>
<span class="go">    &#39;../_ibsdb/images/d8903434-942f-e0f5-d6c2-0dcbe3137bf7.jpg&#39;,</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-wbia.dbio.export_subset">
<span id="wbia-dbio-export-subset-module"></span><h2>wbia.dbio.export_subset module<a class="headerlink" href="#module-wbia.dbio.export_subset" title="Permalink to this headline">¶</a></h2>
<p>Exports subset of an IBEIS database to a new IBEIS database</p>
<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.check_database_overlap">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">check_database_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibs2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#check_database_overlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.check_database_overlap" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>CommandLine:</dt><dd><p>python -m wbia.other.dbinfo –test-get_dbinfo:1 –db PZ_MTEST
dev.py -t listdbs
python -m wbia.dbio.export_subset check_database_overlap
–db PZ_MTEST –db2 PZ_MOTHERS</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_subset check_database_overlap</p>
<p>python -m wbia.dbio.export_subset check_database_overlap –db1=PZ_MTEST –db2=PZ_Master0  # NOQA
python -m wbia.dbio.export_subset check_database_overlap –db1=NNP_Master3 –db2=PZ_Master0  # NOQA</p>
<p>python -m wbia.dbio.export_subset check_database_overlap –db1=GZ_Master0 –db2=GZ_ALL
python -m wbia.dbio.export_subset check_database_overlap –db1=GZ_ALL –db2=lewa_grevys</p>
<p>python -m wbia.dbio.export_subset check_database_overlap –db1=PZ_FlankHack –db2=PZ_Master1
python -m wbia.dbio.export_subset check_database_overlap –db1=PZ_PB_RF_TRAIN –db2=PZ_Master1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_subset</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs1 = wbia.opendb(db=&#39;PZ_Master0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ibs2 = wbia.opendb(dbdir=&#39;/raid/work2/PZ_Master&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--db1&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;PZ_MTEST&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--db2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir1&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs1</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db1</span><span class="p">,</span> <span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs2</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db2</span><span class="p">,</span> <span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_database_overlap</span><span class="p">(</span><span class="n">ibs1</span><span class="p">,</span> <span class="n">ibs2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.check_merge">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">check_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs_src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibs_dst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#check_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.check_merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.export_annots">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">export_annots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#export_annots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.export_annots" title="Permalink to this definition">¶</a></dt>
<dd><p>exports a subset of annotations and other required info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p></li>
<li><p><strong>aid_list</strong> (<em>list</em>) – list of annotation rowids</p></li>
<li><p><strong>new_dbpath</strong> (<em>None</em>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_dbpath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<dl>
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_subset export_annots
python -m wbia.dbio.export_subset export_annots –db NNP_Master3 </p>
<blockquote>
<div><p>-a viewpoint_compare –nocache-aid –verbtd –new_dbpath=PZ_ViewPoints</p>
</div></blockquote>
<dl class="simple">
<dt>python -m wbia.expt.experiment_helpers get_annotcfg_list:0 </dt><dd><p>–db NNP_Master3 -a viewpoint_compare –nocache-aid –verbtd</p>
</dd>
<dt>python -m wbia.expt.experiment_helpers get_annotcfg_list:0 –db NNP_Master3 </dt><dd><p>-a viewpoint_compare –nocache-aid –verbtd</p>
</dd>
<dt>python -m wbia.expt.experiment_helpers get_annotcfg_list:0 –db NNP_Master3 </dt><dd><p>-a default:aids=all,is_known=True,view_pername=#primary&gt;0&amp;#primary1&gt;0,per_name=4,size=200</p>
</dd>
<dt>python -m wbia.expt.experiment_helpers get_annotcfg_list:0 –db NNP_Master3 </dt><dd><p>-a default:aids=all,is_known=True,view_pername=’#primary&gt;0&amp;#primary1&gt;0’,per_name=4,size=200 –acfginfo</p>
</dd>
<dt>python -m wbia.expt.experiment_helpers get_annotcfg_list:0 –db PZ_Master1 </dt><dd><p>-a default:has_any=photobomb –acfginfo</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_subset</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.expt</span> <span class="kn">import</span> <span class="n">experiment_helpers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">defaultdb</span><span class="o">=</span><span class="s1">&#39;NNP_Master3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acfg_name_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">((</span><span class="s1">&#39;--aidcfg&#39;</span><span class="p">,</span> <span class="s1">&#39;--acfg&#39;</span><span class="p">,</span> <span class="s1">&#39;-a&#39;</span><span class="p">),</span> <span class="n">type_</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">acfg_list</span><span class="p">,</span> <span class="n">expanded_aids_list</span> <span class="o">=</span> <span class="n">experiment_helpers</span><span class="o">.</span><span class="n">get_annotcfg_list</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">acfg_name_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aid_list</span> <span class="o">=</span> <span class="n">expanded_aids_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">print_annot_stats</span><span class="p">(</span><span class="n">aid_list</span><span class="p">,</span> <span class="n">viewcode_isect</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">per_image</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Expand to get all annots in each chosen image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gid_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unique_ordered</span><span class="p">(</span><span class="n">ibs</span><span class="o">.</span><span class="n">get_annot_gids</span><span class="p">(</span><span class="n">aid_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aid_list</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">ibs</span><span class="o">.</span><span class="n">get_image_aids</span><span class="p">(</span><span class="n">gid_list</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">print_annot_stats</span><span class="p">(</span><span class="n">aid_list</span><span class="p">,</span> <span class="n">viewcode_isect</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">per_image</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_dbpath</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--new-dbpath&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;PZ_ViewPoints&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_dbpath</span> <span class="o">=</span> <span class="n">export_annots</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">aid_list</span><span class="p">,</span> <span class="n">new_dbpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;new_dbpath = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">new_dbpath</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.export_data">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">export_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#export_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.export_data" title="Permalink to this definition">¶</a></dt>
<dd><p>exports a subset of data and other required info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p></li>
<li><p><strong>gid_list</strong> (<em>list</em>) – list of image rowids</p></li>
<li><p><strong>aid_list</strong> (<em>list</em>) – list of annotation rowids</p></li>
<li><p><strong>nid_list</strong> (<em>list</em>) – list of name rowids</p></li>
<li><p><strong>imgsetid_list</strong> (<em>list</em>) – list of imageset rowids</p></li>
<li><p><strong>gsgrid_list</strong> (<em>list</em>) – list of imageset-image pairs rowids</p></li>
<li><p><strong>new_dbpath</strong> (<em>None</em>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_dbpath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.export_images">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">export_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#export_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.export_images" title="Permalink to this definition">¶</a></dt>
<dd><p>exports a subset of images and other required info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p></li>
<li><p><strong>gid_list</strong> (<em>list</em>) – list of annotation rowids</p></li>
<li><p><strong>new_dbpath</strong> (<em>None</em>) – (default = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new_dbpath</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.export_names">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">export_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dbpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#export_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.export_names" title="Permalink to this definition">¶</a></dt>
<dd><p>exports a subset of names and other required info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<a class="reference internal" href="wbia.control.html#wbia.control.IBEISControl.IBEISController" title="wbia.control.IBEISControl.IBEISController"><em>IBEISController</em></a>) – wbia controller object</p></li>
<li><p><strong>nid_list</strong> (<em>list</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_subset –test-export_names</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_subset</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># build test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="s1">&#39;testdb2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">delete_empty_nids</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nid_list</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">_get_all_known_nids</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># execute function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">export_names</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">nid_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># verify results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.find_gid_list">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">find_gid_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_annots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#find_gid_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.find_gid_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.find_overlap_annots">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">find_overlap_annots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibs2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annots'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#find_overlap_annots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.find_overlap_annots" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the aids of annotations in ibs1 that are also in ibs2</p>
<p>ibs1 = wbia.opendb(‘PZ_Master1’)
ibs2 = wbia.opendb(‘PZ_MTEST’)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.fix_annotmatch_pzmaster1">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">fix_annotmatch_pzmaster1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#fix_annotmatch_pzmaster1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.fix_annotmatch_pzmaster1" title="Permalink to this definition">¶</a></dt>
<dd><p>PZ_Master1 had annotmatch rowids that did not agree with the current name
labeling. Looking at the inconsistencies in the graph interface was too
cumbersome, because over 3000 annots were incorrectly grouped together.</p>
<p>This function deletes any annotmatch rowid that is not consistent with the
current labeling so we can go forward with using the new AnnotInference
object</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.fix_bidirectional_annotmatch">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">fix_bidirectional_annotmatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#fix_bidirectional_annotmatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.fix_bidirectional_annotmatch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.make_new_dbpath">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">make_new_dbpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#make_new_dbpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.make_new_dbpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new database path unique to the exported subset of ids.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.merge_databases">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">merge_databases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs_src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ibs_dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowid_subsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localize_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#merge_databases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.merge_databases" title="Permalink to this definition">¶</a></dt>
<dd><p>New way of merging using the non-hacky sql table merge.
However, its only workings due to major hacks.</p>
<p>FIXME: annotmatch table</p>
<dl>
<dt>CommandLine:</dt><dd><p>python -m wbia –test-merge_databases</p>
<p>python -m wbia merge_databases:0 –db1 LF_OPTIMIZADAS_NI_V_E –db2 LF_ALL
python -m wbia merge_databases:0 –db1 LF_WEST_POINT_OPTIMIZADAS –db2 LF_ALL</p>
<p>python -m wbia merge_databases:0 –db1 PZ_Master0 –db2 PZ_Master1
python -m wbia merge_databases:0 –db1 NNP_Master3 –db2 PZ_Master1</p>
<p>python -m wbia merge_databases:0 –db1 GZ_ALL –db2 GZ_Master1
python -m wbia merge_databases:0 –db1 lewa_grevys –db2 GZ_Master1</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ENABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_subset</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.init.sysres</span> <span class="kn">import</span> <span class="n">get_workdir</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--db1&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--db2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir1&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir2</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir2&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delete_ibsdir</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check for test mode instead of script mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">db1</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">db2</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">dbdir1</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">dbdir2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">dbdir1</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">get_workdir</span><span class="p">(),</span> <span class="s1">&#39;testdb1&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">dbdir2</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">get_workdir</span><span class="p">(),</span> <span class="s1">&#39;testdb_dst&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">delete_ibsdir</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Open the source and destination database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">db1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">dbdir1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">db2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">dbdir2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_src</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db1</span><span class="p">,</span> <span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs_dst</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">db2</span><span class="p">,</span> <span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir2</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">delete_ibsdir</span><span class="o">=</span><span class="n">delete_ibsdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">merge_databases</span><span class="p">(</span><span class="n">ibs_src</span><span class="p">,</span> <span class="n">ibs_dst</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_merge</span><span class="p">(</span><span class="n">ibs_src</span><span class="p">,</span> <span class="n">ibs_dst</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ibs_dst.print_dbinfo()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.remerge_subset">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">remerge_subset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#remerge_subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.remerge_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes ibs1 is an updated subset of ibs2.
Re-merges ibs1 back into ibs2.</p>
<p>TODO: annotmatch table must have non-directional edges for this to work.
I.e. u &lt; v</p>
<p>Ignore:</p>
<blockquote>
<div><p># Ensure annotmatch and names are up to date with staging</p>
<p># Load graph
import ibei
ibs = wbia.opendb(‘PZ_PB_RF_TRAIN’)
infr = wbia.AnnotInference(aids=’all’, ibs=ibs, verbose=3)
infr.reset_feedback(‘staging’, apply=True)
infr.relabel_using_reviews()</p>
<p># Check deltas
infr.wbia_name_group_delta_info()
infr.wbia_delta_info()</p>
<p># Write if it looks good
infr.write_wbia_annotmatch_feedback()
infr.write_wbia_name_assignment()</p>
</div></blockquote>
<dl class="simple">
<dt>Ignore:</dt><dd><p>import wbia
ibs = wbia.opendb(‘PZ_Master1’)
infr = wbia.AnnotInference(ibs, ‘all’)
infr.reset_feedback(‘annotmatch’, apply=True)</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_subset remerge_subset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.export_subset.slow_merge_test">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.export_subset.</span></span><span class="sig-name descname"><span class="pre">slow_merge_test</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/export_subset.html#slow_merge_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.export_subset.slow_merge_test" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.export_subset –test-slow_merge_test</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SLOW_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.export_subset</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">slow_merge_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-wbia.dbio.ingest_database">
<span id="wbia-dbio-ingest-database-module"></span><h2>wbia.dbio.ingest_database module<a class="headerlink" href="#module-wbia.dbio.ingest_database" title="Permalink to this headline">¶</a></h2>
<p>This module lists known raw databases and how to ingest them.</p>
<p>Specify arguments and run the following command to ingest a database</p>
<p>python -m wbia –tf ingest_rawdata –db seaturtles  –imgdir “~/turtles/Turtles from Jill” –ingest-type=named_folders –species=turtles
python -m wbia –tf ingest_rawdata –db PZ_OlPej2016 –imgdir /raid/raw/OlPejPZ_June_2016 –ingest-type=named_folders –species=zebra_plains</p>
<p># — GET DATA —
rsync -avhzP &lt;user&gt;&#64;&lt;host&gt;:&lt;remotedir&gt;  &lt;path-to-raw-imgs&gt;
# — RUN INGEST SCRIPT —
python -m wbia –tf ingest_rawdata –db &lt;new-wbia-db-name&gt; –imgdir &lt;path-to-raw-imgs&gt; –ingest-type=named_folders –species=&lt;optional&gt; –fmtkey=&lt;optional&gt;</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># xdoctest: +SKIP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The scripts in this file essentiall do this:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="s1">&#39;&lt;your new database directory&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gpath_list</span> <span class="o">=</span> <span class="s1">&#39;&lt;path to your images&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">opendb</span><span class="p">(</span><span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gid_list_</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">add_images</span><span class="p">(</span><span class="n">gpath_list</span><span class="p">,</span> <span class="n">auto_localize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># use whole images as annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aid_list</span> <span class="o">=</span> <span class="n">ibs</span><span class="o">.</span><span class="n">use_images_as_annotations</span><span class="p">(</span><span class="n">gid_list_</span><span class="p">,</span> <span class="n">adjust_percent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Extra stuff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name_list</span> <span class="o">=</span> <span class="s1">&#39;&lt;names that correspond to your annots&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">set_annot_names</span><span class="p">(</span><span class="n">aid_list</span><span class="p">,</span> <span class="n">name_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">occur_text_list</span> <span class="o">=</span> <span class="s1">&#39;&lt;occurrence that images belongs to&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">set_image_imagesettext</span><span class="p">(</span><span class="n">gid_list_</span><span class="p">,</span> <span class="n">occur_text_list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span><span class="o">.</span><span class="n">append_annot_case_tags</span><span class="p">(</span><span class="n">aid_list</span><span class="p">,</span> <span class="s1">&#39;&lt;annotation tags&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">FMT_KEYS</span></span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#FMT_KEYS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS.elephant_fmt">
<span class="sig-name descname"><span class="pre">elephant_fmt</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'{prefix?}{name}_{view}_{id?}.{ext}'</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS.elephant_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS.giraffe1_fmt">
<span class="sig-name descname"><span class="pre">giraffe1_fmt</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'{name:*}_{id:d}.{ext}'</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS.giraffe1_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS.name_fmt">
<span class="sig-name descname"><span class="pre">name_fmt</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'{name:*}[id:d].{ext}'</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS.name_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS.seal2_fmt">
<span class="sig-name descname"><span class="pre">seal2_fmt</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'{name:Phsd*}{id:[A-Z]}.{ext}'</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS.seal2_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.FMT_KEYS.snails_fmt">
<span class="sig-name descname"><span class="pre">snails_fmt</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'{name:*dd}{id:dd}.{ext}'</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.FMT_KEYS.snails_fmt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.Ingestable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">Ingestable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ingest_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmtkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postingest_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zipfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_as_annots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#Ingestable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.Ingestable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Temporary structure representing how to ingest a databases</p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.Ingestable.ensure_feasibility">
<span class="sig-name descname"><span class="pre">ensure_feasibility</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#Ingestable.ensure_feasibility"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.Ingestable.ensure_feasibility" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.Ingestable2">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">Ingestable2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgpath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imgdir_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zipfile_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postingest_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ingest_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#Ingestable2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.Ingestable2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.Ingestable2.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#Ingestable2.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.Ingestable2.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.get_name_texts_from_gnames">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">get_name_texts_from_gnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmtkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'{name:*}[aid:d].{ext}'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#get_name_texts_from_gnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.get_name_texts_from_gnames" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gpath_list</strong> (<em>list</em>) – list of image paths</p></li>
<li><p><strong>img_dir</strong> (<em>str</em>) – path to image directory</p></li>
<li><p><strong>fmtkey</strong> (<em>str</em>) – pattern string to parse names from (default = ‘{name:<a href="#id1"><span class="problematic" id="id2">*</span></a>}[aid:d].{ext}’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>name_list - based on the parent folder of each image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –test-get_name_texts_from_gnames</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gpath_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;e_f0273_f.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;f0001_f.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;f0259_l_3.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;f0259_f_1.jpg&#39;</span><span class="p">,</span>  <span class="s1">&#39;f0259_f (1).jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;f0058_u16_f.jpg&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dir</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmtkey</span> <span class="o">=</span> <span class="n">FMT_KEYS</span><span class="o">.</span><span class="n">elephant_fmt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_name_texts_from_gnames</span><span class="p">(</span><span class="n">gpath_list</span><span class="p">,</span> <span class="n">img_dir</span><span class="p">,</span> <span class="n">fmtkey</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.get_name_texts_from_parent_folder">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">get_name_texts_from_parent_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpath_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmtkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#get_name_texts_from_parent_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.get_name_texts_from_parent_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Input: gpath_list
Output: names based on the parent folder of each image</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.get_standard_ingestable">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">get_standard_ingestable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#get_standard_ingestable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.get_standard_ingestable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_Elephants_drop1">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_Elephants_drop1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_Elephants_drop1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_Elephants_drop1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_Giraffes1">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_Giraffes1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_Giraffes1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_Giraffes1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_JAG_Kieryn">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_JAG_Kieryn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_JAG_Kieryn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_JAG_Kieryn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_coco_style_db">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_coco_style_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_coco_style_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_coco_style_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Ingest a PASCAL VOC formatted datbase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dbdir</strong> (<em>str</em>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –exec-ingest_coco_style_db –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="s1">&#39;/Datasets/coco&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dryrun</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ingest_coco_style_db</span><span class="p">(</span><span class="n">dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_humpbacks">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_humpbacks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_humpbacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_humpbacks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_lynx">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_lynx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_lynx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_lynx" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –exec-injest_main –db lynx</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_oxford_style_db">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_oxford_style_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_oxford_style_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_oxford_style_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Ingest either oxford or paris</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dbdir</strong> (<em>str</em>) – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –exec-ingest_oxford_style_db –show</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="s1">&#39;/raid/work/Oxford&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dryrun</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ingest_oxford_style_db</span><span class="p">(</span><span class="n">dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">quit_if_noshow</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia.plottool</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">show_if_requested</span><span class="p">()</span>
</pre></div>
</div>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="s1">&#39;/raid/work/Oxford&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="s1">&#39;/raid/work/Paris&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">#&gt;&gt;&gt; wbia.dbio.convert_db.ingest_oxford_style_db(dbdir)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_polar_bears">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_polar_bears</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_polar_bears"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_polar_bears" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_rawdata">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_rawdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ibs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ingestable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">localize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_rawdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_rawdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Ingests rawdata into an wbia database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ibs</strong> (<em>wbia.IBEISController</em>) – wbia controller object</p></li>
<li><p><strong>ingestable</strong> (<a class="reference internal" href="#wbia.dbio.ingest_database.Ingestable" title="wbia.dbio.ingest_database.Ingestable"><em>Ingestable</em></a>) – </p></li>
<li><p><strong>localize</strong> (<em>bool</em>) – (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>aid_list -  list of annotation rowids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<dl>
<dt>if ingest_type == ‘named_folders’:</dt><dd><p>Converts folder structure where folders = name, to ibsdb</p>
</dd>
<dt>if ingest_type == ‘named_images’:</dt><dd><p>Converts imgname structure where imgnames = name_id.ext, to ibsdb</p>
</dd>
<dt>CommandLine:</dt><dd><p>python wbia/dbio/ingest_database.py –db seals_drop2
python -m wbia.dbio.ingest_database –exec-ingest_rawdata
python -m wbia.dbio.ingest_database –exec-ingest_rawdata –db snow-leopards –imgdir /raid/raw_rsync/snow-leopards</p>
<p>python -m wbia –tf ingest_rawdata –db wd_peter2 –imgdir /raid/raw_rsync/african-dogs –ingest-type=named_folders –species=wild_dog –fmtkey=’African Wild Dog: {name}’ –force-delete
python -m wbia –tf ingest_rawdata –db &lt;newdbname&gt;  –imgdir &lt;path-to-images&gt; –ingest-type=named_folders –species=humpback</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># General ingest script</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbname</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--db&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># &#39;snow-leopards&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_delete</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argflag</span><span class="p">((</span><span class="s1">&#39;--force_delete&#39;</span><span class="p">,</span> <span class="s1">&#39;--force-delete&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img_dir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--imgdir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ingest_type</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--ingest-type&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;unknown&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmtkey</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--fmtkey&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">species</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--species&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images_as_annots</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--images-as-annots&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">bool</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">images_as_annots</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">images_as_annots</span> <span class="o">=</span> <span class="n">ingest_type</span> <span class="o">!=</span> <span class="s1">&#39;unknown&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">img_dir</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;specify img dir&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dbname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;specify dbname&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ingestable</span> <span class="o">=</span> <span class="n">Ingestable</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">dbname</span><span class="p">,</span> <span class="n">img_dir</span><span class="o">=</span><span class="n">img_dir</span><span class="p">,</span> <span class="n">ingest_type</span><span class="o">=</span><span class="n">ingest_type</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">fmtkey</span><span class="o">=</span><span class="n">fmtkey</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="n">species</span><span class="p">,</span> <span class="n">images_as_annots</span><span class="o">=</span><span class="n">images_as_annots</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">adjust_percent</span><span class="o">=</span><span class="mf">0.00</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.control</span> <span class="kn">import</span> <span class="n">IBEISControl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="n">wbia</span><span class="o">.</span><span class="n">sysres</span><span class="o">.</span><span class="n">db_to_dbdir</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">allow_newdir</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">ensuredir</span><span class="p">(</span><span class="n">dbdir</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">force_delete</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">ibsfuncs</span><span class="o">.</span><span class="n">delete_wbia_database</span><span class="p">(</span><span class="n">dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ibs</span> <span class="o">=</span> <span class="n">IBEISControl</span><span class="o">.</span><span class="n">request_IBEISController</span><span class="p">(</span><span class="n">dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">localize</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gid_list</span> <span class="o">=</span> <span class="n">ingest_rawdata</span><span class="p">(</span><span class="n">ibs</span><span class="p">,</span> <span class="n">ingestable</span><span class="p">,</span> <span class="n">localize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;gid_list = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">gid_list</span><span class="p">),))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_seals_drop2">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_seals_drop2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_seals_drop2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_seals_drop2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_serengeti_mamal_cameratrap">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_serengeti_mamal_cameratrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_serengeti_mamal_cameratrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_serengeti_mamal_cameratrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads data from Serengeti dryad server</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://datadryad.org/resource/doi:10.5061/dryad.5pt92">http://datadryad.org/resource/doi:10.5061/dryad.5pt92</a>
Swanson AB, Kosmala M, Lintott CJ, Simpson RJ, Smith A, Packer C (2015)
Snapshot Serengeti, high-frequency annotated camera trap images of 40
mammalian species in an African savanna. Scientific Data 2: 150026.
<a class="reference external" href="http://dx.doi.org/10.1038/sdata.2015.26">http://dx.doi.org/10.1038/sdata.2015.26</a>
Swanson AB, Kosmala M, Lintott CJ, Simpson RJ, Smith A, Packer C (2015)
Data from: Snapshot Serengeti, high-frequency annotated camera trap
images of 40 mammalian species in an African savanna. Dryad Digital
Repository. <a class="reference external" href="http://dx.doi.org/10.5061/dryad.5pt92">http://dx.doi.org/10.5061/dryad.5pt92</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>species</strong> – </p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –test-ingest_serengeti_mamal_cameratrap –species zebra_plains
python -m wbia.dbio.ingest_database –test-ingest_serengeti_mamal_cameratrap –species cheetah</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">species</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--species&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">wbia</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">TEST_SPECIES</span><span class="o">.</span><span class="n">ZEB_PLAIN</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># species = ut.get_argval(&#39;--species&#39;, type_=str, default=&#39;cheetah&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ingest_serengeti_mamal_cameratrap</span><span class="p">(</span><span class="n">species</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_snails_drop1">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_snails_drop1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_snails_drop1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_snails_drop1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_standard_database">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_standard_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_standard_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_standard_database" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbname</strong> (<em>str</em>) – database name</p></li>
<li><p><strong>force_delete</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Ignore:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbname</span> <span class="o">=</span> <span class="s1">&#39;testdb1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">force_delete</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ingest_standard_database</span><span class="p">(</span><span class="n">dbname</span><span class="p">,</span> <span class="n">force_delete</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_testdb1">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_testdb1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_testdb1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_testdb1" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">utool</span> <span class="k">as</span> <span class="nn">ut</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia</span> <span class="kn">import</span> <span class="n">demodata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wbia</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">demodata</span><span class="o">.</span><span class="n">ensure_testdata</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DELETE TESTDB1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TESTDB1</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">unixjoin</span><span class="p">(</span><span class="n">wbia</span><span class="o">.</span><span class="n">sysres</span><span class="o">.</span><span class="n">get_workdir</span><span class="p">(),</span> <span class="s1">&#39;testdb1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ut</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">TESTDB1</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ingest_testdb1</span><span class="p">(</span><span class="n">dbname</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_whale_sharks">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_whale_sharks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_whale_sharks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_whale_sharks" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –exec-injest_main –db WS_ALL</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.ingest_wilddog_peter">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">ingest_wilddog_peter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#ingest_wilddog_peter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.ingest_wilddog_peter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –exec-injest_main –db wd_peter_blinston</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.injest_main">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">injest_main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#injest_main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.injest_main" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_database –test-injest_main
python -m wbia.dbio.ingest_database –test-injest_main –db snow-leopards</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># DISABLE_DOCTEST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_database</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">injest_main</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.logger">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><em class="property"> <span class="pre">=</span> <span class="pre">&lt;Logger</span> <span class="pre">wbia</span> <span class="pre">(INFO)&gt;</span></em><a class="headerlink" href="#wbia.dbio.ingest_database.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>New Lynx</p>
<p>python -m wbia –tf ingest_rawdata –db lynx2  –imgdir “/media/raid/raw/WildME-WWF-lynx-Sept-2016/CARPETAS CATALOGO INDIVIDUOS” –ingest-type=named_folders –species=lynx –dry</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.normalize_name">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">normalize_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#normalize_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.normalize_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps unknonwn names to the standard ____</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_database.resolve_name_conflicts">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_database.</span></span><span class="sig-name descname"><span class="pre">resolve_name_conflicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gid_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_database.html#resolve_name_conflicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_database.resolve_name_conflicts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-wbia.dbio.ingest_ggr">
<span id="wbia-dbio-ingest-ggr-module"></span><h2>wbia.dbio.ingest_ggr module<a class="headerlink" href="#module-wbia.dbio.ingest_ggr" title="Permalink to this headline">¶</a></h2>
<p>Converts a GGR-style raw data to IBEIS database.</p>
<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_ggr.convert_ggr2018_to_wbia">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_ggr.</span></span><span class="sig-name descname"><span class="pre">convert_ggr2018_to_wbia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ggr_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dry_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_updates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_ggr.html#convert_ggr2018_to_wbia"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_ggr.convert_ggr2018_to_wbia" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the raw GGR2 (2018) data to an wbia database.</p>
<dl class="simple">
<dt>Args</dt><dd><p>ggr_path (str): Directory to folder <em>containing</em> raw GGR 2018 data
dbdir (str): Output directory</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m wbia convert_ggr2018_to_wbia</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_ggr</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_ggr_path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;wbia&#39;</span><span class="p">,</span> <span class="s1">&#39;GGR2&#39;</span><span class="p">,</span> <span class="s1">&#39;GGR2018data&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default_dbdir</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;wbia&#39;</span><span class="p">,</span> <span class="s1">&#39;GGR2-IBEIS&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default_dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ggr_path</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--ggr&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default_ggr_path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">convert_ggr2018_to_wbia</span><span class="p">(</span><span class="n">ggr_path</span><span class="p">,</span> <span class="n">dbdir</span><span class="o">=</span><span class="n">dbdir</span><span class="p">,</span> <span class="n">purge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">apply_updates</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-wbia.dbio.ingest_hsdb">
<span id="wbia-dbio-ingest-hsdb-module"></span><h2>wbia.dbio.ingest_hsdb module<a class="headerlink" href="#module-wbia.dbio.ingest_hsdb" title="Permalink to this headline">¶</a></h2>
<p>Converts a hotspostter database to IBEIS</p>
<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.check_unconverted_hsdb">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">check_unconverted_hsdb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#check_unconverted_hsdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.check_unconverted_hsdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if a directory is an unconverted hotspotter database</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.convert_hsdb_to_wbia">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">convert_hsdb_to_wbia</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#convert_hsdb_to_wbia"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.convert_hsdb_to_wbia" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Args</dt><dd><p>hsdir (str): Directory to folder <em>containing</em> _hsdb
dbdir (str): Output directory (defaults to same as  hsdb)</p>
</dd>
<dt>CommandLine:</dt><dd><p>python -m wbia convert_hsdb_to_wbia –dbdir ~/work/Frogs
python -m wbia convert_hsdb_to_wbia –hsdir “/raid/raw/RotanTurtles/Roatan HotSpotter Nov_21_2016”</p>
</dd>
<dt>Ignore:</dt><dd><p>from wbia.dbio.ingest_hsdb import *  # NOQA
hsdir = “/raid/raw/RotanTurtles/Roatan HotSpotter Nov_21_2016”
dbdir = “~/work/RotanTurtles”</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbdir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--dbdir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hsdir</span> <span class="o">=</span> <span class="n">ut</span><span class="o">.</span><span class="n">get_argval</span><span class="p">(</span><span class="s1">&#39;--hsdir&#39;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">dbdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">convert_hsdb_to_wbia</span><span class="p">(</span><span class="n">hsdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.get_hsinternal">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">get_hsinternal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsdb_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#get_hsinternal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.get_hsinternal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.get_unconverted_hsdbs">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">get_unconverted_hsdbs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#get_unconverted_hsdbs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.get_unconverted_hsdbs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>workdir</strong> (<em>None</em>) – (default = None)</p>
</dd>
</dl>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_hsdb –test-get_unconverted_hsdbs</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">workdir</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">get_unconverted_hsdbs</span><span class="p">(</span><span class="n">workdir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.ingest_unconverted_hsdbs_in_workdir">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">ingest_unconverted_hsdbs_in_workdir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#ingest_unconverted_hsdbs_in_workdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.ingest_unconverted_hsdbs_in_workdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.is_hsdb">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">is_hsdb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#is_hsdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.is_hsdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.is_hsdbv3">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">is_hsdbv3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#is_hsdbv3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.is_hsdbv3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.is_hsdbv4">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">is_hsdbv4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#is_hsdbv4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.is_hsdbv4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.is_hsinternal">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">is_hsinternal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#is_hsinternal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.is_hsinternal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.is_succesful_convert">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">is_succesful_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#is_succesful_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.is_succesful_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>the sucess flag is only written if the _ibsdb was properly generated</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="wbia.dbio.ingest_hsdb.testdata_ensure_unconverted_hsdb">
<span class="sig-prename descclassname"><span class="pre">wbia.dbio.ingest_hsdb.</span></span><span class="sig-name descname"><span class="pre">testdata_ensure_unconverted_hsdb</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/wbia/dbio/ingest_hsdb.html#testdata_ensure_unconverted_hsdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#wbia.dbio.ingest_hsdb.testdata_ensure_unconverted_hsdb" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes an unconverted test datapath</p>
<dl class="simple">
<dt>CommandLine:</dt><dd><p>python -m wbia.dbio.ingest_hsdb –test-testdata_ensure_unconverted_hsdb</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># SCRIPT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wbia.dbio.ingest_hsdb</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># NOQA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">testdata_ensure_unconverted_hsdb</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-wbia.dbio.ingest_mdb">
<span id="wbia-dbio-ingest-mdb-module"></span><h2>wbia.dbio.ingest_mdb module<a class="headerlink" href="#module-wbia.dbio.ingest_mdb" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-wbia.dbio.ingest_my_hotspotter_dbs">
<span id="wbia-dbio-ingest-my-hotspotter-dbs-module"></span><h2>wbia.dbio.ingest_my_hotspotter_dbs module<a class="headerlink" href="#module-wbia.dbio.ingest_my_hotspotter_dbs" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-wbia.dbio">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-wbia.dbio" title="Permalink to this headline">¶</a></h2>
<p>this module handles importing and exporting. the
best word i can think of is io. maybe marshall?</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Wildbook Image Analysis (IA)</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="wbia.algo.html">wbia.algo package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.control.html">wbia.control package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">wbia.dbio package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.detecttools.html">wbia.detecttools package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.dtool.html">wbia.dtool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.expt.html">wbia.expt package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.gui.html">wbia.gui package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.guitool.html">wbia.guitool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.init.html">wbia.init package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.other.html">wbia.other package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.plottool.html">wbia.plottool package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.scripts.html">wbia.scripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.templates.html">wbia.templates package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.viz.html">wbia.viz package</a></li>
<li class="toctree-l2"><a class="reference internal" href="wbia.web.html">wbia.web package</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.__main__">wbia.__main__</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia._devcmds_wbia">wbia._devcmds_wbia</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia._devscript">wbia._devscript</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia._wbia_object">wbia._wbia_object</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.annotmatch_funcs">wbia.annotmatch_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.annots">wbia.annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.constants">wbia.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_annots">wbia.core_annots</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_images">wbia.core_images</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.core_parts">wbia.core_parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.demodata">wbia.demodata</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.dev">wbia.dev</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.filter_configs">wbia.filter_configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.images">wbia.images</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.params">wbia.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia.tag_funcs">wbia.tag_funcs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#module-wbia">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="api.html">API</a><ul>
      <li>Previous: <a href="wbia.control.html" title="previous chapter">wbia.control package</a></li>
      <li>Next: <a href="wbia.detecttools.html" title="next chapter">wbia.detecttools package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wild Me.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/wbia.dbio.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>